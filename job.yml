!Job
target: !Target
  head: a03d957b5b8d0425f9d5b6c98b6ee1efa56a1248
  email: unknown
  branch: main
  remote: https://github.com/apache/arrow
  github_repo: apache/arrow
  version: 16.0.0.dev128
  r_version: 15.0.0.100000128
  no_rc_version: 16.0.0.dev128
  no_rc_r_version: 15.0.0.100000128
  no_rc_semver_version: 16.0.0-dev128
  no_rc_snapshot_version: 16.0.0-SNAPSHOT
tasks:
  test-skyhook-integration: !Task
    name: test-skyhook-integration
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e ARROW_SKYHOOK=ON
      image: ubuntu-cpp

    branch: nightly-tests-2024-02-17-0-github-test-skyhook-integration
    commit: bd7bfe50368dacc8547103e3f6f57571afc47f7f
  test-ubuntu-22.04-cpp-20: !Task
    name: test-ubuntu-22.04-cpp-20
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      flags: -e CMAKE_CXX_STANDARD=20
      image: ubuntu-cpp

    branch: nightly-tests-2024-02-17-0-github-test-ubuntu-22.04-cpp-20
    commit: 9098cc5e0ef9ab823e6f0071c2f02f2c6465b91a
  test-r-devdocs: !Task
    name: test-r-devdocs
    ci: github
    template: r/github.devdocs.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-17-0-github-test-r-devdocs
    commit: 31e117ad005241ce02ca8bb8be4c4ed010f19b11
  test-conda-python-3.10-hdfs-3.2.1: !Task
    name: test-conda-python-3.10-hdfs-3.2.1
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        HDFS: 3.2.1
      image: conda-python-hdfs

    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.10-hdfs-3.2.1
    commit: 16bc308e500a2800536cdccdc2d25533d470c52e
  test-conda-python-3.11-dask-upstream_devel: !Task
    name: test-conda-python-3.11-dask-upstream_devel
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.11
        DASK: upstream_devel
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask

    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.11-dask-upstream_devel
    commit: 6eaeaa2cd859bab069cf7413905c91bb03c78cfa
  test-build-cpp-fuzz: !Task
    name: test-build-cpp-fuzz
    ci: github
    template: fuzz-tests/github.oss-fuzz.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-17-0-github-test-build-cpp-fuzz
    commit: 85072c2307b6bcd23af919441a440bb661783bd1
  test-conda-python-3.10-spark-v3.5.0: !Task
    name: test-conda-python-3.10-spark-v3.5.0
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        SPARK: v3.5.0
        TEST_PYARROW_ONLY: 'false'
        NUMPY: '1.23'
        JDK: '8'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.10-spark-v3.5.0
    commit: 458096e28d510d074eacd05973c06b0d9a214405
  test-r-rstudio-r-base-4.2-centos7-devtoolset-8: !Task
    name: test-r-rstudio-r-base-4.2-centos7-devtoolset-8
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-centos7
      devtoolset_version: 8

    branch: nightly-tests-2024-02-17-0-azure-test-r-rstudio-r-base-4.2-centos7-devtoolset-8
    commit: a1d6c0b141800d236cfa7346a21f2d5c1a7f8c88
  test-ubuntu-r-sanitizer: !Task
    name: test-ubuntu-r-sanitizer
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: ubuntu-r-sanitizer

    branch: nightly-tests-2024-02-17-0-azure-test-ubuntu-r-sanitizer
    commit: f948327f304a595b874ccfb83fb5c6c89778a3dd
  test-conda-python-3.10-cython2: !Task
    name: test-conda-python-3.10-cython2
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python-cython2

    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.10-cython2
    commit: 37ed7d7edc3a00884111d019accb64bbab962d2a
  test-conda-python-3.9: !Task
    name: test-conda-python-3.9
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.9
    commit: f3f14289587507d4b14b620d026e69079de5d90c
  test-conda-python-3.11-dask-latest: !Task
    name: test-conda-python-3.11-dask-latest
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.11
        DASK: latest
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask
    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.11-dask-latest
    commit: bf786e511b6f7a8a86aba19bf51aeda967a9e175
  test-r-minimal-build: !Task
    name: test-r-minimal-build
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
      flags: -e LIBARROW_MINIMAL=TRUE

    branch: nightly-tests-2024-02-17-0-azure-test-r-minimal-build
    commit: 7c565e26c58d20ae1ee9526c8c7c7c9a1016fc20
  test-conda-python-3.8: !Task
    name: test-conda-python-3.8
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.8
    commit: 18625e0d02011b29c902ce323b912477903f1063
  test-r-library-r-base-latest: !Task
    name: test-r-library-r-base-latest
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
    branch: nightly-tests-2024-02-17-0-azure-test-r-library-r-base-latest
    commit: 9ac465e5ce5dfc5c4151b5c9f20a7afb21eee17c
  test-ubuntu-20.04-cpp-bundled: !Task
    name: test-ubuntu-20.04-cpp-bundled
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-cpp-bundled

    branch: nightly-tests-2024-02-17-0-github-test-ubuntu-20.04-cpp-bundled
    commit: 75e09d936333ad4bf2f7982ece791153d95d20f6
  test-r-dev-duckdb: !Task
    name: test-r-dev-duckdb
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        R_DUCKDB_DEV: true
      image: ubuntu-r-only-r

    branch: nightly-tests-2024-02-17-0-github-test-r-dev-duckdb
    commit: ad0f682284e274694fc85c347de76c6e2384c7c0
  test-cuda-python: !Task
    name: test-cuda-python
    ci: github
    template: docker-tests/github.cuda.yml
    artifacts: []
    params:
      image: ubuntu-cuda-python

  ############################## Fuzz tests #################################

    branch: nightly-tests-2024-02-17-0-github-test-cuda-python
    commit: 96991ce2676b56512ea6076a3964fb85b4933589
  test-ubuntu-22.04-python-3: !Task
    name: test-ubuntu-22.04-python-3
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: ubuntu-python

    branch: nightly-tests-2024-02-17-0-github-test-ubuntu-22.04-python-3
    commit: c117221fe1a6268ed37eb557cc72ada51dcff574
  test-r-rstudio-r-base-4.1-opensuse153: !Task
    name: test-r-rstudio-r-base-4.1-opensuse153
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse153

  # This is with R built with --enable-lto
  # CRAN also does R CMD INSTALL --use-LTO
  # which overrides the UseLTO field in r/DESCRIPTION
    branch: nightly-tests-2024-02-17-0-azure-test-r-rstudio-r-base-4.1-opensuse153
    commit: 58ad6711d6f1ed50765fe777e81eaa955cbba30a
  test-conda-python-3.8-pandas-1.0: !Task
    name: test-conda-python-3.8-pandas-1.0
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: '1.0'
        NUMPY: '1.19'
      image: conda-python-pandas
    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.8-pandas-1.0
    commit: 96873be1d393bf9b70dcbe58027828152f1db229
  test-ubuntu-20.04-cpp-minimal-with-formats: !Task
    name: test-ubuntu-20.04-cpp-minimal-with-formats
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e ARROW_CSV=ON -e ARROW_PARQUET=ON
      image: ubuntu-cpp-minimal

    branch: nightly-tests-2024-02-17-0-github-test-ubuntu-20.04-cpp-minimal-with-formats
    commit: 98b26a8d533ecaf15837305a15b9ed205cf274f5
  test-r-linux-valgrind: !Task
    name: test-r-linux-valgrind
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        ARROW_R_DEV: 'TRUE'
      image: ubuntu-r-valgrind

    branch: nightly-tests-2024-02-17-0-azure-test-r-linux-valgrind
    commit: 244dc2082a9427de87d59ef4d79f87e28a714f34
  test-conda-python-3.11-pandas-upstream_devel: !Task
    name: test-conda-python-3.11-pandas-upstream_devel
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.11'
        PANDAS: upstream_devel
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas

    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.11-pandas-upstream_devel
    commit: 91982c1eacb4a786514ca82806362380ba14022c
  test-debian-ruby: !Task
    name: test-debian-ruby
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: debian-ruby
    branch: nightly-tests-2024-02-17-0-github-test-debian-ruby
    commit: 629accf63ff37239c8d39f0cf7d94b2ca8e10df9
  test-r-arrow-backwards-compatibility: !Task
    name: test-r-arrow-backwards-compatibility
    ci: github
    template: r/github.linux.arrow.version.back.compat.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-17-0-github-test-r-arrow-backwards-compatibility
    commit: 4f8721291a1036cdc08c4a657f8435306716d98c
  test-r-depsource-system: !Task
    name: test-r-depsource-system
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_DEPENDENCY_SOURCE=SYSTEM -e ARROW_GCS=OFF -e xsimd_SOURCE=BUNDLED
      image: ubuntu-r-only-r

    branch: nightly-tests-2024-02-17-0-github-test-r-depsource-system
    commit: e807497b6777c4b6c875ebb1f1f423b1a9ce4a10
  test-ubuntu-22.04-cpp: !Task
    name: test-ubuntu-22.04-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '22.04'
      image: ubuntu-cpp

    branch: nightly-tests-2024-02-17-0-github-test-ubuntu-22.04-cpp
    commit: 1f1d54396f96a405b9f2c8b4482fd105ce1ed347
  test-r-ubuntu-22.04: !Task
    name: test-r-ubuntu-22.04
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2024-02-17-0-github-test-r-ubuntu-22.04
    commit: 139fa7bdc038b978466be01d91bd2a0d65558a79
  test-fedora-r-clang-sanitizer: !Task
    name: test-fedora-r-clang-sanitizer
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: fedora-r-clang-sanitizer

    branch: nightly-tests-2024-02-17-0-azure-test-fedora-r-clang-sanitizer
    commit: c65e2ecd3ae0b637393b06aa25f9df25564b5607
  test-r-gcc-11: !Task
    name: test-r-gcc-11
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 11
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2024-02-17-0-github-test-r-gcc-11
    commit: e3d36776a0234dbefa43c8f4020753470ff4b8af
  test-ubuntu-c-glib: !Task
    name: test-ubuntu-c-glib
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: ubuntu-c-glib
    branch: nightly-tests-2024-02-17-0-github-test-ubuntu-c-glib
    commit: 9519262a2357f6d99ea18128b0e6a93ad7b114e4
  example-python-minimal-build-fedora-conda: !Task
    name: example-python-minimal-build-fedora-conda
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-fedora-conda
    branch: nightly-tests-2024-02-17-0-github-example-python-minimal-build-fedora-conda
    commit: 27ff98cac920874f3c72644b602013399b6d119d
  test-conda-python-3.11-hypothesis: !Task
    name: test-conda-python-3.11-hypothesis
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.11
        HYPOTHESIS_PROFILE: ci
        PYARROW_TEST_HYPOTHESIS: ON
        # limit to execute hypothesis tests only
        PYTEST_ARGS: -m hypothesis -W error
      image: conda-python-pandas

    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.11-hypothesis
    commit: 6bfe65133eeba9fc450d3c12f850094390326f9d
  test-alpine-linux-cpp: !Task
    name: test-alpine-linux-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: alpine-linux-cpp
    branch: nightly-tests-2024-02-17-0-github-test-alpine-linux-cpp
    commit: 6ce3f4d183759837a5a184a8f66b6135ba03e1e2
  test-build-vcpkg-win: !Task
    name: test-build-vcpkg-win
    ci: github
    template: vcpkg-tests/github.windows.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-17-0-github-test-build-vcpkg-win
    commit: fb23be825a57450295297c15dc8339b2aa7cdbe6
  test-ubuntu-20.04-cpp: !Task
    name: test-ubuntu-20.04-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '20.04'
      image: ubuntu-cpp
    branch: nightly-tests-2024-02-17-0-github-test-ubuntu-20.04-cpp
    commit: 0cfc29262b9ca6c5327ef01bbd58f8c747f2a80c
  test-conda-python-3.10-pandas-latest: !Task
    name: test-conda-python-3.10-pandas-latest
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.10-pandas-latest
    commit: 4ee4217b22365a97d7971f0c86592e74776608a4
  test-debian-11-cpp-amd64: !Task
    name: test-debian-11-cpp-amd64
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: amd64
        DEBIAN: '11'
      image: debian-cpp

    branch: nightly-tests-2024-02-17-0-github-test-debian-11-cpp-amd64
    commit: 9d0bba85f997327aee039cc0f9d1f44c564feada
  test-conda-python-3.11-spark-master: !Task
    name: test-conda-python-3.11-spark-master
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.11'
        SPARK: master
        TEST_PYARROW_ONLY: 'false'
        NUMPY: latest
        JDK: '17'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0

    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.11-spark-master
    commit: d8fe16ebafe8a2847627a40727497818c1e7e167
  test-conda-python-3.12: !Task
    name: test-conda-python-3.12
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.12'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python

    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.12
    commit: 57da39cca163596aa37772bc79613f833e39ea6c
  test-debian-11-cpp-i386: !Task
    name: test-debian-11-cpp-i386
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: i386
        DEBIAN: '11'
      flags: -e ARROW_S3=OFF -e ARROW_GANDIVA=OFF
      image: debian-cpp

    branch: nightly-tests-2024-02-17-0-github-test-debian-11-cpp-i386
    commit: 962c9b073be7f9d7f11049ca7fdec6b2f4ea322d
  test-conda-cpp: !Task
    name: test-conda-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: conda-cpp
    branch: nightly-tests-2024-02-17-0-github-test-conda-cpp
    commit: 72c605f9e8a07f163830c64b418e5e15d6ce2b53
  test-r-install-local: !Task
    name: test-r-install-local
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-17-0-github-test-r-install-local
    commit: 006b0b045add55985dda073200ce78c048f7db81
  test-debian-c-glib: !Task
    name: test-debian-c-glib
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: debian-c-glib
    branch: nightly-tests-2024-02-17-0-github-test-debian-c-glib
    commit: a1c9978f184eced4c3e1485d993d037d1ef9dff0
  test-r-offline-maximal: !Task
    name: test-r-offline-maximal
    ci: github
    template: r/github.linux.offline.build.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-17-0-github-test-r-offline-maximal
    commit: 4a2c218211b7dfdebb5a025b66ce69a256366ad4
  test-conda-python-3.10-pandas-nightly: !Task
    name: test-conda-python-3.10-pandas-nightly
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        PANDAS: nightly
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.10-pandas-nightly
    commit: 5e4e3a1f2ff9d4745025fc833314cb16f85f6a2f
  example-cpp-tutorial: !Task
    name: example-cpp-tutorial
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: tutorial_examples
      run: tutorial

############################## Utility tasks ############################
    branch: nightly-tests-2024-02-17-0-github-example-cpp-tutorial
    commit: f3f00b240783801f3d6c1f43f232fccba06c47d7
  example-python-minimal-build-ubuntu-venv: !Task
    name: example-python-minimal-build-ubuntu-venv
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-ubuntu-venv

  ############################# Conda Linux (x64) #############################

    branch: nightly-tests-2024-02-17-0-github-example-python-minimal-build-ubuntu-venv
    commit: ce5900265b52f11ea4532b4bf7497a74ebe77058
  test-r-rhub-debian-gcc-release-custom-ccache: !Task
    name: test-r-rhub-debian-gcc-release-custom-ccache
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-release
      r_tag: latest
      r_custom_ccache: true

    branch: nightly-tests-2024-02-17-0-azure-test-r-rhub-debian-gcc-release-custom-ccache
    commit: 46f0b35e4c7ed75f3c4df18f08c701ab61655751
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    name: test-r-rhub-debian-gcc-devel-lto-latest
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      flags: -e NOT_CRAN=false -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: nightly-tests-2024-02-17-0-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: 059d40537e155312774294f6f2ed3f201adb854f
  test-debian-11-python-3: !Task
    name: test-debian-11-python-3
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
      image: debian-python

    branch: nightly-tests-2024-02-17-0-azure-test-debian-11-python-3
    commit: f0c6abacee3ce2f76b050feed239402263e4c53a
  test-r-linux-as-cran: !Task
    name: test-r-linux-as-cran
    ci: github
    template: r/github.linux.cran.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_image }}

    branch: nightly-tests-2024-02-17-0-github-test-r-linux-as-cran
    commit: 654d008530c9014d0a6a75ad27b9edcdb32ec266
  test-ubuntu-ruby: !Task
    name: test-ubuntu-ruby
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: ubuntu-ruby

  # Use azure to run valgrind tests to prevent OOM
    branch: nightly-tests-2024-02-17-0-github-test-ubuntu-ruby
    commit: 43f359bb6af2075360d53af6b06b30c56819ef61
  test-conda-python-3.10-substrait: !Task
    name: test-conda-python-3.10-substrait
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python-substrait

    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.10-substrait
    commit: 4762526181650d6cf4ce8f0cf96555d153fdbfe4
  test-r-depsource-bundled: !Task
    name: test-r-depsource-bundled
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_DEPENDENCY_SOURCE=BUNDLED

    branch: nightly-tests-2024-02-17-0-azure-test-r-depsource-bundled
    commit: 233d16117be7100cfd9097dc202c40494e0dabe9
  test-conda-python-3.11: !Task
    name: test-conda-python-3.11
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.11'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.11
    commit: 7deb80eb93ea5a1dd46359c161604eef3eeacb6a
  test-r-versions: !Task
    name: test-r-versions
    ci: github
    template: r/github.linux.versions.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_version }}

    branch: nightly-tests-2024-02-17-0-github-test-r-versions
    commit: f33081a3c8061c58b3b009801e0bc0e42e146457
  example-cpp-minimal-build-static: !Task
    name: example-cpp-minimal-build-static
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static
    branch: nightly-tests-2024-02-17-0-github-example-cpp-minimal-build-static
    commit: ca7fd98259289899b1357102039b862ad27fe2c7
  test-fedora-39-cpp: !Task
    name: test-fedora-39-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 39
      image: fedora-cpp

    branch: nightly-tests-2024-02-17-0-github-test-fedora-39-cpp
    commit: 1c2d41aefc2960c40a603d407329fb4e313045f9
  test-ubuntu-20.04-python-3: !Task
    name: test-ubuntu-20.04-python-3
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-python

    branch: nightly-tests-2024-02-17-0-azure-test-ubuntu-20.04-python-3
    commit: 5f1f2d67c5287db8eb91de63360d1eecd524f3a6
  test-r-install-local-minsizerel: !Task
    name: test-r-install-local-minsizerel
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params:
      env:
        CMAKE_BUILD_TYPE: MinSizeRel

    branch: nightly-tests-2024-02-17-0-github-test-r-install-local-minsizerel
    commit: 9d6be569447127f710687cf0bec355ad3d2908b5
  test-fedora-39-python-3: !Task
    name: test-fedora-39-python-3
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 39
      image: fedora-python

    branch: nightly-tests-2024-02-17-0-azure-test-fedora-39-python-3
    commit: c1b78dbea6b89d361ce0766a2f5e94babf87d5ea
  test-cuda-cpp: !Task
    name: test-cuda-cpp
    ci: github
    template: docker-tests/github.cuda.yml
    artifacts: []
    params:
      image: ubuntu-cuda-cpp

    branch: nightly-tests-2024-02-17-0-github-test-cuda-cpp
    commit: 3bc7a5a3239624a32dd7534339e6f7f75396e2fe
  test-conda-python-3.10-hdfs-2.9.2: !Task
    name: test-conda-python-3.10-hdfs-2.9.2
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        HDFS: 2.9.2
      image: conda-python-hdfs
    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.10-hdfs-2.9.2
    commit: 4d6f97d4bc7b941269aaad9ad29b44a1b19bdac7
  test-ubuntu-20.04-cpp-thread-sanitizer: !Task
    name: test-ubuntu-20.04-cpp-thread-sanitizer
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        # clang-tools and llvm version need to be synchronized so as
        # to have the right llvm-symbolizer version
        CLANG_TOOLS: 11
        LLVM: 11
        UBUNTU: 20.04
      image: ubuntu-cpp-thread-sanitizer

    branch: nightly-tests-2024-02-17-0-github-test-ubuntu-20.04-cpp-thread-sanitizer
    commit: 64fe9958e764c4aaa290a2132ed1002f1f97ade9
  test-ubuntu-22.04-docs: !Task
    name: test-ubuntu-22.04-docs
    ci: github
    template: docs/github.linux.yml
    artifacts:
    - docs.tar.gz
    params:
      env:
        UBUNTU: 22.04
      pr_number: Unset
      flags: -v $PWD/build/:/build/
      image: ubuntu-docs
      publish: false
    branch: nightly-tests-2024-02-17-0-github-test-ubuntu-22.04-docs
    commit: 5c0145d3d6b58f27143f1e726b1d45304b5eb296
  test-conda-cpp-valgrind: !Task
    name: test-conda-cpp-valgrind
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      image: conda-cpp-valgrind

    branch: nightly-tests-2024-02-17-0-azure-test-conda-cpp-valgrind
    commit: 3e00f99d88e32b59a54caeee15acd14d272f3daa
  test-debian-11-go-1.21: !Task
    name: test-debian-11-go-1.21
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
        GO: '1.21'
        STATICCHECK: latest
      image: debian-go

  # be sure to update binary-task.rb when upgrading ubuntu
    branch: nightly-tests-2024-02-17-0-azure-test-debian-11-go-1.21
    commit: 685e80fe4eee517010aeb7830d361c281b605f29
  test-r-rhub-ubuntu-gcc-release-latest: !Task
    name: test-r-rhub-ubuntu-gcc-release-latest
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: ubuntu-gcc-release
      r_tag: latest
    branch: nightly-tests-2024-02-17-0-azure-test-r-rhub-ubuntu-gcc-release-latest
    commit: 1348c45bd78eba9cf3b8e31b1392f3e0f0d6a275
  test-debian-11-go-1.19: !Task
    name: test-debian-11-go-1.19
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
        GO: '1.19'
        STATICCHECK: v0.4.5
      image: debian-go
    branch: nightly-tests-2024-02-17-0-azure-test-debian-11-go-1.19
    commit: 144e3f7f6456aface14cdb11a03555fc9cd0ea98
  test-r-gcc-12: !Task
    name: test-r-gcc-12
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 12
      image: ubuntu-r-only-r

    branch: nightly-tests-2024-02-17-0-github-test-r-gcc-12
    commit: 4051567083a0ed5f0fd333db000a3bdb535e9e39
  test-conda-python-3.10: !Task
    name: test-conda-python-3.10
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.10
    commit: 944aa3956b81c06023431001076cf643794e6034
  test-ubuntu-22.04-cpp-no-threading: !Task
    name: test-ubuntu-22.04-cpp-no-threading
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      flags: -e ARROW_ENABLE_THREADING=OFF
      image: ubuntu-cpp

    branch: nightly-tests-2024-02-17-0-github-test-ubuntu-22.04-cpp-no-threading
    commit: 43e874994269b47cd767bee090a0b2b6befcb294
  test-r-rstudio-r-base-4.2-focal: !Task
    name: test-r-rstudio-r-base-4.2-focal
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-focal
    branch: nightly-tests-2024-02-17-0-azure-test-r-rstudio-r-base-4.2-focal
    commit: a61e1262c681924fbe59be5c4d0c10bd43fe3b20
  test-r-offline-minimal: !Task
    name: test-r-offline-minimal
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_OFFLINE_BUILD=true

    branch: nightly-tests-2024-02-17-0-azure-test-r-offline-minimal
    commit: 04cfb0cd3a666624f02f89c6372c4f5065072f24
  test-conda-python-3.8-spark-v3.5.0: !Task
    name: test-conda-python-3.8-spark-v3.5.0
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        SPARK: v3.5.0
        TEST_PYARROW_ONLY: 'false'
        NUMPY: latest
        JDK: '8'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.8-spark-v3.5.0
    commit: 5b3d545ad66d426fcc432f45c017bd072de605bf
  example-cpp-minimal-build-static-system-dependency: !Task
    name: example-cpp-minimal-build-static-system-dependency
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static-system-dependency

    branch: 
      nightly-tests-2024-02-17-0-github-example-cpp-minimal-build-static-system-dependency
    commit: 5f87bb88846f99c9bd9c8046461f86fc185cb5e8
  test-conda-python-3.9-pandas-latest: !Task
    name: test-conda-python-3.9-pandas-latest
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2024-02-17-0-github-test-conda-python-3.9-pandas-latest
    commit: c11b8fe6a53945151fb3ac57721ba045a124e695
  test-r-linux-rchk: !Task
    name: test-r-linux-rchk
    ci: github
    template: r/github.linux.rchk.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-17-0-github-test-r-linux-rchk
    commit: 791f311275c12fc93309bbcf8687741e80863f03
params: {}
branch: nightly-tests-2024-02-17-0

!Job
target: !Target
  head: 87ed8ac432dc7e77fa0275a24e3edda9b0bc2a2e
  email: unknown
  branch: main
  remote: https://github.com/apache/arrow
  github_repo: apache/arrow
  version: 15.0.0.dev423
  r_version: 14.0.2.100000423
  no_rc_version: 15.0.0.dev423
  no_rc_r_version: 14.0.2.100000423
  no_rc_semver_version: 15.0.0-dev423
  no_rc_snapshot_version: 15.0.0-SNAPSHOT
tasks:
  test-r-linux-as-cran: !Task
    name: test-r-linux-as-cran
    ci: github
    template: r/github.linux.cran.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_image }}

    branch: nightly-tests-2024-01-13-0-github-test-r-linux-as-cran
    commit: 02bca6fc1bab74dabf85b48e44b21719d2297705
  test-conda-python-3.10-cython2: !Task
    name: test-conda-python-3.10-cython2
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python-cython2

    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.10-cython2
    commit: 40512f72065bb58cd4eb734e1be1ab0ab97b8fd9
  test-conda-python-3.11-pandas-upstream_devel: !Task
    name: test-conda-python-3.11-pandas-upstream_devel
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.11'
        PANDAS: upstream_devel
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas

    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.11-pandas-upstream_devel
    commit: 3b75902e937ff1f7e6276ace2c29506fe45e4b2d
  test-r-arrow-backwards-compatibility: !Task
    name: test-r-arrow-backwards-compatibility
    ci: github
    template: r/github.linux.arrow.version.back.compat.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-13-0-github-test-r-arrow-backwards-compatibility
    commit: 65079df3286313039fcb4661080d6ffeda81715a
  test-skyhook-integration: !Task
    name: test-skyhook-integration
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e ARROW_SKYHOOK=ON
      image: ubuntu-cpp

    branch: nightly-tests-2024-01-13-0-github-test-skyhook-integration
    commit: ed06cc44ad7aa1fc20e62794ccc906c7eff40135
  test-ubuntu-22.04-cpp: !Task
    name: test-ubuntu-22.04-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '22.04'
      image: ubuntu-cpp

    branch: nightly-tests-2024-01-13-0-github-test-ubuntu-22.04-cpp
    commit: ab1fab5cc654647333118cda55371577e1c27bf3
  test-conda-python-3.11: !Task
    name: test-conda-python-3.11
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.11'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.11
    commit: d4713ff6e3ba13d4ad08b610a8841e2007d7a8c8
  test-r-gcc-12: !Task
    name: test-r-gcc-12
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 12
      image: ubuntu-r-only-r

    branch: nightly-tests-2024-01-13-0-github-test-r-gcc-12
    commit: d49bd42c276d31b4da3f7c4cacd4aad20ceaea45
  test-conda-python-3.8-spark-v3.5.0: !Task
    name: test-conda-python-3.8-spark-v3.5.0
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        SPARK: v3.5.0
        TEST_PYARROW_ONLY: 'false'
        NUMPY: latest
        JDK: '8'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.8-spark-v3.5.0
    commit: b951b036b304048926b8e64fe9b8f6d8180f94de
  test-ubuntu-c-glib: !Task
    name: test-ubuntu-c-glib
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: ubuntu-c-glib
    branch: nightly-tests-2024-01-13-0-github-test-ubuntu-c-glib
    commit: f18da0ee76bfe4ce6f1df4d28d0de917c457db52
  test-ubuntu-20.04-cpp-bundled: !Task
    name: test-ubuntu-20.04-cpp-bundled
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-cpp-bundled

    branch: nightly-tests-2024-01-13-0-github-test-ubuntu-20.04-cpp-bundled
    commit: e6b700d68b9c61580f6e4ba14f735a795ab7c452
  test-conda-python-3.11-spark-master: !Task
    name: test-conda-python-3.11-spark-master
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.11'
        SPARK: master
        TEST_PYARROW_ONLY: 'false'
        NUMPY: latest
        JDK: '17'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0

    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.11-spark-master
    commit: 3133a524a9242ec9402882291b2e351b11969304
  test-conda-python-3.9-pandas-latest: !Task
    name: test-conda-python-3.9-pandas-latest
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.9-pandas-latest
    commit: cc939192f24f26cd819d14e1ede8a7fe130215c5
  test-conda-python-3.10: !Task
    name: test-conda-python-3.10
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.10
    commit: e9589c7d41222cbd5746a0a73455d737498a34c5
  test-ubuntu-22.04-python-3: !Task
    name: test-ubuntu-22.04-python-3
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: ubuntu-python

    branch: nightly-tests-2024-01-13-0-github-test-ubuntu-22.04-python-3
    commit: 3d6da2a6bd26db8154226abeb80cdbfbab11fd07
  test-ubuntu-20.04-cpp-thread-sanitizer: !Task
    name: test-ubuntu-20.04-cpp-thread-sanitizer
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        # clang-tools and llvm version need to be synchronized so as
        # to have the right llvm-symbolizer version
        CLANG_TOOLS: 11
        LLVM: 11
        UBUNTU: 20.04
      image: ubuntu-cpp-thread-sanitizer

    branch: nightly-tests-2024-01-13-0-github-test-ubuntu-20.04-cpp-thread-sanitizer
    commit: ccba731ba8e776b082e86334f89532e47b06aee4
  test-conda-python-3.12: !Task
    name: test-conda-python-3.12
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.12'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python

    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.12
    commit: 1bff99cb532f82bab2b2285f0de635532a3fcf96
  test-fedora-38-python-3: !Task
    name: test-fedora-38-python-3
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 38
      image: fedora-python

    branch: nightly-tests-2024-01-13-0-azure-test-fedora-38-python-3
    commit: 84846bd199c7573ae486a51afd0b5cb63ac57232
  test-conda-cpp: !Task
    name: test-conda-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: conda-cpp
    branch: nightly-tests-2024-01-13-0-github-test-conda-cpp
    commit: f43fe06e7e5aed6f0280b8ae2e233b3f37d2f3f9
  test-r-ubuntu-22.04: !Task
    name: test-r-ubuntu-22.04
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2024-01-13-0-github-test-r-ubuntu-22.04
    commit: acdb53952d514245d30698ba84660e661a7db844
  test-build-vcpkg-win: !Task
    name: test-build-vcpkg-win
    ci: github
    template: vcpkg-tests/github.windows.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-13-0-github-test-build-vcpkg-win
    commit: 1faf07376a6e72f9e5ecbbe128c809d7bba14973
  test-ubuntu-20.04-python-3: !Task
    name: test-ubuntu-20.04-python-3
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-python

    branch: nightly-tests-2024-01-13-0-azure-test-ubuntu-20.04-python-3
    commit: 165276198941a75d86d08b22c526a661a366c5bc
  test-fedora-38-cpp: !Task
    name: test-fedora-38-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 38
      image: fedora-cpp

    branch: nightly-tests-2024-01-13-0-github-test-fedora-38-cpp
    commit: cb1abfc75c5e2fb193a4290c22b8e0eaa365ea99
  test-r-install-local-minsizerel: !Task
    name: test-r-install-local-minsizerel
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params:
      env:
        CMAKE_BUILD_TYPE: MinSizeRel

    branch: nightly-tests-2024-01-13-0-github-test-r-install-local-minsizerel
    commit: 0b6f2c690afdeda1c061a391bf4df3c2ee178c32
  test-ubuntu-22.04-docs: !Task
    name: test-ubuntu-22.04-docs
    ci: github
    template: docs/github.linux.yml
    artifacts:
    - docs.tar.gz
    params:
      env:
        UBUNTU: 22.04
      pr_number: Unset
      flags: -v $PWD/build/:/build/
      image: ubuntu-docs
      publish: false
    branch: nightly-tests-2024-01-13-0-github-test-ubuntu-22.04-docs
    commit: 9a3c7207486c7cabd79a66b41627c9a71f80c50a
  test-conda-python-3.10-spark-v3.5.0: !Task
    name: test-conda-python-3.10-spark-v3.5.0
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        SPARK: v3.5.0
        TEST_PYARROW_ONLY: 'false'
        NUMPY: '1.23'
        JDK: '8'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.10-spark-v3.5.0
    commit: 9b4d550373b8f512d6fe078378c56ce93c89874b
  test-conda-python-3.8-pandas-1.0: !Task
    name: test-conda-python-3.8-pandas-1.0
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: '1.0'
        NUMPY: '1.19'
      image: conda-python-pandas
    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.8-pandas-1.0
    commit: 1c84860d11f3242c306913c2ddd972eb9349771c
  test-conda-python-3.9: !Task
    name: test-conda-python-3.9
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.9
    commit: db7ba96ed9e7d2a1341a50976ca8997c43b6865b
  test-conda-python-3.11-dask-latest: !Task
    name: test-conda-python-3.11-dask-latest
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.11
        DASK: latest
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask
    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.11-dask-latest
    commit: e518ce5072757e9cd09cf349463d997051cb284f
  test-r-rstudio-r-base-4.2-focal: !Task
    name: test-r-rstudio-r-base-4.2-focal
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-focal
    branch: nightly-tests-2024-01-13-0-azure-test-r-rstudio-r-base-4.2-focal
    commit: c2dd1f86161875905bbf5c2a118732e85d33659e
  test-debian-11-cpp-amd64: !Task
    name: test-debian-11-cpp-amd64
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: amd64
        DEBIAN: '11'
      image: debian-cpp

    branch: nightly-tests-2024-01-13-0-github-test-debian-11-cpp-amd64
    commit: adb30bf89a77af95d34285b65c82a4b4a412c0f9
  test-r-rhub-debian-gcc-release-custom-ccache: !Task
    name: test-r-rhub-debian-gcc-release-custom-ccache
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-release
      r_tag: latest
      r_custom_ccache: true

    branch: nightly-tests-2024-01-13-0-azure-test-r-rhub-debian-gcc-release-custom-ccache
    commit: 82823cc61a5066d5e2743edce37a1f0a377ce7d1
  test-r-rhub-ubuntu-gcc-release-latest: !Task
    name: test-r-rhub-ubuntu-gcc-release-latest
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: ubuntu-gcc-release
      r_tag: latest
    branch: nightly-tests-2024-01-13-0-azure-test-r-rhub-ubuntu-gcc-release-latest
    commit: f0aca5e99bd9dd0351b9552e5d36ba0405f3bf44
  test-debian-ruby: !Task
    name: test-debian-ruby
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: debian-ruby
    branch: nightly-tests-2024-01-13-0-github-test-debian-ruby
    commit: 7e262981cb196b824bcf3be45deebb14419245d6
  test-cuda-cpp: !Task
    name: test-cuda-cpp
    ci: github
    template: docker-tests/github.cuda.yml
    artifacts: []
    params:
      image: ubuntu-cuda-cpp

    branch: nightly-tests-2024-01-13-0-github-test-cuda-cpp
    commit: b9c1a5da36d6ad0edfd6039b006371cfb11f4779
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    name: test-r-rhub-debian-gcc-devel-lto-latest
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      flags: -e NOT_CRAN=false -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: nightly-tests-2024-01-13-0-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: 30b2ec1291c191874577855c4937675a5b34a1ee
  test-fedora-r-clang-sanitizer: !Task
    name: test-fedora-r-clang-sanitizer
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: fedora-r-clang-sanitizer

    branch: nightly-tests-2024-01-13-0-azure-test-fedora-r-clang-sanitizer
    commit: 8e6575f690da0f31e5be8b4675ca2b245e278031
  example-cpp-minimal-build-static-system-dependency: !Task
    name: example-cpp-minimal-build-static-system-dependency
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static-system-dependency

    branch: 
      nightly-tests-2024-01-13-0-github-example-cpp-minimal-build-static-system-dependency
    commit: 835b083bbe3d1557800a258cc7d6f1d52640d38f
  test-debian-c-glib: !Task
    name: test-debian-c-glib
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: debian-c-glib
    branch: nightly-tests-2024-01-13-0-github-test-debian-c-glib
    commit: 7ea5298eb4489826dd874562337f7db482b7d874
  test-conda-python-3.11-hypothesis: !Task
    name: test-conda-python-3.11-hypothesis
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.11
        HYPOTHESIS_PROFILE: ci
        PYARROW_TEST_HYPOTHESIS: ON
        # limit to execute hypothesis tests only
        PYTEST_ARGS: -m hypothesis -W error
      image: conda-python-pandas

    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.11-hypothesis
    commit: 87d7c7021f235daff941f0377a51603d3023628f
  test-debian-11-go-1.21: !Task
    name: test-debian-11-go-1.21
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
        GO: '1.21'
        STATICCHECK: latest
      image: debian-go

  # be sure to update binary-task.rb when upgrading ubuntu
    branch: nightly-tests-2024-01-13-0-azure-test-debian-11-go-1.21
    commit: 442671d82e7b32b2bdf62c2a52e254e4fce72c3a
  test-r-versions: !Task
    name: test-r-versions
    ci: github
    template: r/github.linux.versions.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_version }}

    branch: nightly-tests-2024-01-13-0-github-test-r-versions
    commit: c97f8e68d5b8cdf76e4910679f5a280444f531e0
  test-conda-python-3.10-pandas-nightly: !Task
    name: test-conda-python-3.10-pandas-nightly
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        PANDAS: nightly
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.10-pandas-nightly
    commit: 081f26c0d5ce6c2de71712681aec9772a618e567
  test-ubuntu-ruby: !Task
    name: test-ubuntu-ruby
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: ubuntu-ruby

  # Use azure to run valgrind tests to prevent OOM
    branch: nightly-tests-2024-01-13-0-github-test-ubuntu-ruby
    commit: 147a56aead39d090234d0535a832672531035a01
  test-r-offline-minimal: !Task
    name: test-r-offline-minimal
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
      flags: -e TEST_OFFLINE_BUILD=true

    branch: nightly-tests-2024-01-13-0-azure-test-r-offline-minimal
    commit: ecee426ac9777b98a41c218cd5f566730905c186
  test-conda-cpp-valgrind: !Task
    name: test-conda-cpp-valgrind
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      image: conda-cpp-valgrind

    branch: nightly-tests-2024-01-13-0-azure-test-conda-cpp-valgrind
    commit: 48ead15887fc86f976a631fa3c189c8c4734dddf
  test-build-cpp-fuzz: !Task
    name: test-build-cpp-fuzz
    ci: github
    template: fuzz-tests/github.oss-fuzz.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-13-0-github-test-build-cpp-fuzz
    commit: e858c187db4511d540d7efcd2fab566410552ef8
  example-cpp-tutorial: !Task
    name: example-cpp-tutorial
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: tutorial_examples
      run: tutorial

############################## Utility tasks ############################
    branch: nightly-tests-2024-01-13-0-github-example-cpp-tutorial
    commit: 0e0b1d7b1bd85fb3c185f71f8a794ff8c5cb6a8c
  test-r-linux-valgrind: !Task
    name: test-r-linux-valgrind
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        ARROW_R_DEV: 'TRUE'
      image: ubuntu-r-valgrind

    branch: nightly-tests-2024-01-13-0-azure-test-r-linux-valgrind
    commit: d3216586fb5ac18d5b71941dc3500ce7b29726ef
  test-r-devdocs: !Task
    name: test-r-devdocs
    ci: github
    template: r/github.devdocs.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-13-0-github-test-r-devdocs
    commit: 2e9d4ccefc2531d7fd4a3205c9eb9cdd80bf41d5
  test-ubuntu-22.04-cpp-20: !Task
    name: test-ubuntu-22.04-cpp-20
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      flags: -e CMAKE_CXX_STANDARD=20
      image: ubuntu-cpp

    branch: nightly-tests-2024-01-13-0-github-test-ubuntu-22.04-cpp-20
    commit: 718266d5b21e5b553d1ba96a39170d62b36ebf70
  test-conda-python-3.8: !Task
    name: test-conda-python-3.8
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.8
    commit: 9c41ed9c21b80053e0a8c58b9c972dd053f0565a
  test-conda-python-3.10-hdfs-3.2.1: !Task
    name: test-conda-python-3.10-hdfs-3.2.1
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        HDFS: 3.2.1
      image: conda-python-hdfs

    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.10-hdfs-3.2.1
    commit: c88279034bba0194787fc9a09e141cf8f0510663
  test-ubuntu-20.04-cpp-minimal-with-formats: !Task
    name: test-ubuntu-20.04-cpp-minimal-with-formats
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e ARROW_CSV=ON -e ARROW_PARQUET=ON
      image: ubuntu-cpp-minimal

    branch: nightly-tests-2024-01-13-0-github-test-ubuntu-20.04-cpp-minimal-with-formats
    commit: f66ff40a0c3cf28b30392dcbf509b2dc95285dd3
  test-r-rstudio-r-base-4.1-opensuse153: !Task
    name: test-r-rstudio-r-base-4.1-opensuse153
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse153

  # This is with R built with --enable-lto
  # CRAN also does R CMD INSTALL --use-LTO
  # which overrides the UseLTO field in r/DESCRIPTION
    branch: nightly-tests-2024-01-13-0-azure-test-r-rstudio-r-base-4.1-opensuse153
    commit: 3744905bd48d9c1fa99ad00fe0ba6edf7282e3e9
  test-ubuntu-r-sanitizer: !Task
    name: test-ubuntu-r-sanitizer
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: ubuntu-r-sanitizer

    branch: nightly-tests-2024-01-13-0-azure-test-ubuntu-r-sanitizer
    commit: 700260f11dde2114cb5a82e3b1af3d74a86a3e43
  test-conda-python-3.11-dask-upstream_devel: !Task
    name: test-conda-python-3.11-dask-upstream_devel
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.11
        DASK: upstream_devel
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask

    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.11-dask-upstream_devel
    commit: bb33e9c268a33a93a6a38e5809209319ae26a3aa
  test-r-library-r-base-latest: !Task
    name: test-r-library-r-base-latest
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
    branch: nightly-tests-2024-01-13-0-azure-test-r-library-r-base-latest
    commit: 181e1fc4e0c948e95fcca4335c89b9d19dc48828
  test-ubuntu-20.04-cpp: !Task
    name: test-ubuntu-20.04-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '20.04'
      image: ubuntu-cpp
    branch: nightly-tests-2024-01-13-0-github-test-ubuntu-20.04-cpp
    commit: 3769f481109438d305dffc9af69e1b34a5da7834
  test-r-minimal-build: !Task
    name: test-r-minimal-build
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
      flags: -e LIBARROW_MINIMAL=TRUE

    branch: nightly-tests-2024-01-13-0-azure-test-r-minimal-build
    commit: 51373c507094a7776367ac65273e4759a61a8276
  test-cuda-python: !Task
    name: test-cuda-python
    ci: github
    template: docker-tests/github.cuda.yml
    artifacts: []
    params:
      image: ubuntu-cuda-python

  ############################## Fuzz tests #################################

    branch: nightly-tests-2024-01-13-0-github-test-cuda-python
    commit: 252c57c10cf39a0c0afc3259dede183039015c89
  example-python-minimal-build-fedora-conda: !Task
    name: example-python-minimal-build-fedora-conda
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-fedora-conda
    branch: nightly-tests-2024-01-13-0-github-example-python-minimal-build-fedora-conda
    commit: 20ec00753fc8f238e6fb27a30cbb3dbd6b701f4d
  test-r-linux-rchk: !Task
    name: test-r-linux-rchk
    ci: github
    template: r/github.linux.rchk.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-13-0-github-test-r-linux-rchk
    commit: 9ad9854547a52c739e391d1028dd9086ee05f520
  test-r-depsource-system: !Task
    name: test-r-depsource-system
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_DEPENDENCY_SOURCE=SYSTEM -e ARROW_GCS=OFF -e xsimd_SOURCE=BUNDLED
      image: ubuntu-r-only-r

    branch: nightly-tests-2024-01-13-0-github-test-r-depsource-system
    commit: a45be2b933edacfe8a1fb7aee54ddacd546a7bdb
  test-r-dev-duckdb: !Task
    name: test-r-dev-duckdb
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        R_DUCKDB_DEV: true
      image: ubuntu-r-only-r

    branch: nightly-tests-2024-01-13-0-github-test-r-dev-duckdb
    commit: 4683812d9909945f9486f236b0c9d3c3008d3a7c
  test-debian-11-cpp-i386: !Task
    name: test-debian-11-cpp-i386
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: i386
        DEBIAN: '11'
      flags: -e ARROW_S3=OFF -e ARROW_GANDIVA=OFF
      image: debian-cpp

    branch: nightly-tests-2024-01-13-0-github-test-debian-11-cpp-i386
    commit: 51a965b487d88353a796097535a552c6c2bb19a7
  test-r-gcc-11: !Task
    name: test-r-gcc-11
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 11
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2024-01-13-0-github-test-r-gcc-11
    commit: 303e090a7ec62272963d4d3e1ae73e898e4a9adc
  test-conda-python-3.10-substrait: !Task
    name: test-conda-python-3.10-substrait
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python-substrait

    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.10-substrait
    commit: 6094066797cf8a4bb62406930221e9fd89b253f5
  test-r-rstudio-r-base-4.2-centos7-devtoolset-8: !Task
    name: test-r-rstudio-r-base-4.2-centos7-devtoolset-8
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-centos7
      devtoolset_version: 8

    branch: nightly-tests-2024-01-13-0-azure-test-r-rstudio-r-base-4.2-centos7-devtoolset-8
    commit: 9d27305df439549eb61504983e0ea2d77ae1ea5a
  test-debian-11-python-3: !Task
    name: test-debian-11-python-3
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
      image: debian-python

    branch: nightly-tests-2024-01-13-0-azure-test-debian-11-python-3
    commit: 4d5d18cc90e71913567629747518ea948b0c536f
  test-conda-python-3.10-hdfs-2.9.2: !Task
    name: test-conda-python-3.10-hdfs-2.9.2
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        HDFS: 2.9.2
      image: conda-python-hdfs
    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.10-hdfs-2.9.2
    commit: 42bd904457b6ddc11d0c1d5ce26978b90b1f471c
  test-debian-11-go-1.19: !Task
    name: test-debian-11-go-1.19
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
        GO: '1.19'
        STATICCHECK: v0.4.5
      image: debian-go
    branch: nightly-tests-2024-01-13-0-azure-test-debian-11-go-1.19
    commit: ac3648ab90dd03c5a8d88280508c639fe0a23b03
  test-r-depsource-bundled: !Task
    name: test-r-depsource-bundled
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_DEPENDENCY_SOURCE=BUNDLED

    branch: nightly-tests-2024-01-13-0-azure-test-r-depsource-bundled
    commit: 6c7f248c6cc881f817968e7d3929882f30ffdde9
  test-r-install-local: !Task
    name: test-r-install-local
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-13-0-github-test-r-install-local
    commit: 9bb052d39a1892be65f87b348462dfc1fa8b76ba
  test-ubuntu-22.04-cpp-no-threading: !Task
    name: test-ubuntu-22.04-cpp-no-threading
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      flags: -e ARROW_ENABLE_THREADING=OFF
      image: ubuntu-cpp

    branch: nightly-tests-2024-01-13-0-github-test-ubuntu-22.04-cpp-no-threading
    commit: 666b05c9cf50d8e3882aa7a64dfa826fa95a1063
  example-cpp-minimal-build-static: !Task
    name: example-cpp-minimal-build-static
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static
    branch: nightly-tests-2024-01-13-0-github-example-cpp-minimal-build-static
    commit: 8ea6edd00d5c0f958c380dea8873391064dca4a2
  test-conda-python-3.10-pandas-latest: !Task
    name: test-conda-python-3.10-pandas-latest
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2024-01-13-0-github-test-conda-python-3.10-pandas-latest
    commit: 9f6186d3fb6eb8502a2f72b8984bfa923dae15e2
  test-r-offline-maximal: !Task
    name: test-r-offline-maximal
    ci: github
    template: r/github.linux.offline.build.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-13-0-github-test-r-offline-maximal
    commit: 35eaa679ce404e3033b39b9d5136bb1ab12d99b4
  example-python-minimal-build-ubuntu-venv: !Task
    name: example-python-minimal-build-ubuntu-venv
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-ubuntu-venv

  ############################# Conda Linux (x64) #############################

    branch: nightly-tests-2024-01-13-0-github-example-python-minimal-build-ubuntu-venv
    commit: b60cc3153ed48beb5b0e1a800bb1b41be28ea4fd
  test-alpine-linux-cpp: !Task
    name: test-alpine-linux-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: alpine-linux-cpp
    branch: nightly-tests-2024-01-13-0-github-test-alpine-linux-cpp
    commit: 804756d32fd47f540dfd8a81f569fdc7802ee4b5
params: {}
branch: nightly-tests-2024-01-13-0

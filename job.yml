!Job
target: !Target
  head: d9891918a42c74002533ed5c06c42b7d0d070820
  email: unknown
  branch: main
  remote: https://github.com/apache/arrow
  github_repo: apache/arrow
  version: 16.0.0.dev111
  r_version: 15.0.0.100000111
  no_rc_version: 16.0.0.dev111
  no_rc_r_version: 15.0.0.100000111
  no_rc_semver_version: 16.0.0-dev111
  no_rc_snapshot_version: 16.0.0-SNAPSHOT
tasks:
  test-debian-ruby: !Task
    name: test-debian-ruby
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: debian-ruby
    branch: nightly-tests-2024-02-12-0-github-test-debian-ruby
    commit: ddb84b6ab6dc4b382aeab4cf854f9ebd7a84b437
  test-r-gcc-11: !Task
    name: test-r-gcc-11
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 11
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2024-02-12-0-github-test-r-gcc-11
    commit: 191cd37d36c30398f0a4e286482d871235b80607
  test-ubuntu-r-sanitizer: !Task
    name: test-ubuntu-r-sanitizer
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: ubuntu-r-sanitizer

    branch: nightly-tests-2024-02-12-0-azure-test-ubuntu-r-sanitizer
    commit: 9a71e7f536fbbf90ef1792c9027461b151aa90ec
  test-skyhook-integration: !Task
    name: test-skyhook-integration
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e ARROW_SKYHOOK=ON
      image: ubuntu-cpp

    branch: nightly-tests-2024-02-12-0-github-test-skyhook-integration
    commit: 152e7df8f827852ca5c6288c315ee6b45080da97
  test-debian-11-cpp-amd64: !Task
    name: test-debian-11-cpp-amd64
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: amd64
        DEBIAN: '11'
      image: debian-cpp

    branch: nightly-tests-2024-02-12-0-github-test-debian-11-cpp-amd64
    commit: 3a05b49918b6f1ecf0875a5b8d06e9afcb69104d
  test-fedora-39-python-3: !Task
    name: test-fedora-39-python-3
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 39
      image: fedora-python

    branch: nightly-tests-2024-02-12-0-azure-test-fedora-39-python-3
    commit: 4343e1460485bbf8e3827f7412bff5d60ffe06cd
  test-conda-python-3.8-spark-v3.5.0: !Task
    name: test-conda-python-3.8-spark-v3.5.0
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        SPARK: v3.5.0
        TEST_PYARROW_ONLY: 'false'
        NUMPY: latest
        JDK: '8'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.8-spark-v3.5.0
    commit: 0e40a12746047caab7e03afb8218952bd03e7b9e
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    name: test-r-rhub-debian-gcc-devel-lto-latest
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      flags: -e NOT_CRAN=false -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: nightly-tests-2024-02-12-0-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: 555e3e35ba0567a34be9f687acd3989772ed5359
  test-conda-python-3.12: !Task
    name: test-conda-python-3.12
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.12'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python

    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.12
    commit: 150a8bfbadc3fb526b8436174961ee375a1dd675
  test-r-rhub-ubuntu-gcc-release-latest: !Task
    name: test-r-rhub-ubuntu-gcc-release-latest
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: ubuntu-gcc-release
      r_tag: latest
    branch: nightly-tests-2024-02-12-0-azure-test-r-rhub-ubuntu-gcc-release-latest
    commit: 55bbaa8abdbc7f4e6cb1cfca5b2a4104cc2529a9
  test-alpine-linux-cpp: !Task
    name: test-alpine-linux-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: alpine-linux-cpp
    branch: nightly-tests-2024-02-12-0-github-test-alpine-linux-cpp
    commit: efc19693ddfefefdea7063f7afd2723f2fd9a7ea
  test-r-minimal-build: !Task
    name: test-r-minimal-build
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
      flags: -e LIBARROW_MINIMAL=TRUE

    branch: nightly-tests-2024-02-12-0-azure-test-r-minimal-build
    commit: e71d7451463846150b8da6f2cee520d77bcbff7f
  test-conda-python-3.11-hypothesis: !Task
    name: test-conda-python-3.11-hypothesis
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.11
        HYPOTHESIS_PROFILE: ci
        PYARROW_TEST_HYPOTHESIS: ON
        # limit to execute hypothesis tests only
        PYTEST_ARGS: -m hypothesis -W error
      image: conda-python-pandas

    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.11-hypothesis
    commit: 8361d4ef7f349bd3161918edf4bf34cb6317561e
  test-r-rstudio-r-base-4.2-centos7-devtoolset-8: !Task
    name: test-r-rstudio-r-base-4.2-centos7-devtoolset-8
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-centos7
      devtoolset_version: 8

    branch: nightly-tests-2024-02-12-0-azure-test-r-rstudio-r-base-4.2-centos7-devtoolset-8
    commit: 0674ebb71a2440d85be5215da707afb4bf99e8a7
  test-ubuntu-22.04-docs: !Task
    name: test-ubuntu-22.04-docs
    ci: github
    template: docs/github.linux.yml
    artifacts:
    - docs.tar.gz
    params:
      env:
        UBUNTU: 22.04
      pr_number: Unset
      flags: -v $PWD/build/:/build/
      image: ubuntu-docs
      publish: false
    branch: nightly-tests-2024-02-12-0-github-test-ubuntu-22.04-docs
    commit: 0da84dc69de95c3841e63c47cf85af8dc710073a
  example-python-minimal-build-fedora-conda: !Task
    name: example-python-minimal-build-fedora-conda
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-fedora-conda
    branch: nightly-tests-2024-02-12-0-github-example-python-minimal-build-fedora-conda
    commit: 6eb496938e8ca833d14c694ae568e670faa1e072
  test-r-library-r-base-latest: !Task
    name: test-r-library-r-base-latest
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
    branch: nightly-tests-2024-02-12-0-azure-test-r-library-r-base-latest
    commit: 950da61ec51682dba14cbb9b9026cd4ebbf28317
  test-conda-cpp-valgrind: !Task
    name: test-conda-cpp-valgrind
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      image: conda-cpp-valgrind

    branch: nightly-tests-2024-02-12-0-azure-test-conda-cpp-valgrind
    commit: 5a630bc784a124c43243b46a8af55b17b69b525c
  test-r-linux-rchk: !Task
    name: test-r-linux-rchk
    ci: github
    template: r/github.linux.rchk.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-12-0-github-test-r-linux-rchk
    commit: 2c0ad58aa8e4f93c6b46864163b47ebedb01e1c5
  test-ubuntu-ruby: !Task
    name: test-ubuntu-ruby
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: ubuntu-ruby

  # Use azure to run valgrind tests to prevent OOM
    branch: nightly-tests-2024-02-12-0-github-test-ubuntu-ruby
    commit: 3888ee98b46d996b269055fbee2ad66fcda7135f
  test-conda-python-3.8-pandas-1.0: !Task
    name: test-conda-python-3.8-pandas-1.0
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: '1.0'
        NUMPY: '1.19'
      image: conda-python-pandas
    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.8-pandas-1.0
    commit: 9824227fd7f47af14d7fcb1c1c4ceae630e74ab1
  test-r-arrow-backwards-compatibility: !Task
    name: test-r-arrow-backwards-compatibility
    ci: github
    template: r/github.linux.arrow.version.back.compat.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-12-0-github-test-r-arrow-backwards-compatibility
    commit: aa35d7cf6848635a43e16e6c1a966c86b5939b28
  test-build-vcpkg-win: !Task
    name: test-build-vcpkg-win
    ci: github
    template: vcpkg-tests/github.windows.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-12-0-github-test-build-vcpkg-win
    commit: cf0b8e38b580c5af12924f6f192ce882339d4c7e
  test-ubuntu-22.04-cpp: !Task
    name: test-ubuntu-22.04-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '22.04'
      image: ubuntu-cpp

    branch: nightly-tests-2024-02-12-0-github-test-ubuntu-22.04-cpp
    commit: 3adac55a1fcd93866061e797c21893963d95070d
  example-cpp-tutorial: !Task
    name: example-cpp-tutorial
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: tutorial_examples
      run: tutorial

############################## Utility tasks ############################
    branch: nightly-tests-2024-02-12-0-github-example-cpp-tutorial
    commit: ada1c86430de6d4bbfddace4a8404db014e91602
  test-r-offline-maximal: !Task
    name: test-r-offline-maximal
    ci: github
    template: r/github.linux.offline.build.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-12-0-github-test-r-offline-maximal
    commit: 485ce86fa3c6f028eba21a8e26b34a84104b42a1
  test-r-versions: !Task
    name: test-r-versions
    ci: github
    template: r/github.linux.versions.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_version }}

    branch: nightly-tests-2024-02-12-0-github-test-r-versions
    commit: 0449b04623f713ee3b29d4f6984960260fc8f5b2
  test-conda-python-3.10-pandas-nightly: !Task
    name: test-conda-python-3.10-pandas-nightly
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        PANDAS: nightly
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.10-pandas-nightly
    commit: 97bcce1cbd230190334c181c5c728399439e48e6
  test-debian-11-go-1.19: !Task
    name: test-debian-11-go-1.19
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
        GO: '1.19'
        STATICCHECK: v0.4.5
      image: debian-go
    branch: nightly-tests-2024-02-12-0-azure-test-debian-11-go-1.19
    commit: 32f8a0bcc71be066b9a55cd66351fe26f5ca8c8f
  test-cuda-cpp: !Task
    name: test-cuda-cpp
    ci: github
    template: docker-tests/github.cuda.yml
    artifacts: []
    params:
      image: ubuntu-cuda-cpp

    branch: nightly-tests-2024-02-12-0-github-test-cuda-cpp
    commit: 003b78479e285b1c50e295fefe43f890c1315f71
  test-r-offline-minimal: !Task
    name: test-r-offline-minimal
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_OFFLINE_BUILD=true

    branch: nightly-tests-2024-02-12-0-azure-test-r-offline-minimal
    commit: b17968eeeac55332feb86af947e54db68afb6408
  test-conda-python-3.10-hdfs-3.2.1: !Task
    name: test-conda-python-3.10-hdfs-3.2.1
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        HDFS: 3.2.1
      image: conda-python-hdfs

    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.10-hdfs-3.2.1
    commit: b2a9a36cfbdd60201f1dfb0faf5d18381a176a19
  test-r-linux-valgrind: !Task
    name: test-r-linux-valgrind
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        ARROW_R_DEV: 'TRUE'
      image: ubuntu-r-valgrind

    branch: nightly-tests-2024-02-12-0-azure-test-r-linux-valgrind
    commit: 34ae270270834f4353769339775b69bebb8b3d6b
  test-r-depsource-bundled: !Task
    name: test-r-depsource-bundled
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_DEPENDENCY_SOURCE=BUNDLED

    branch: nightly-tests-2024-02-12-0-azure-test-r-depsource-bundled
    commit: 521d07d011ff46a86f80d06fce1ed2a0cdb652f5
  test-conda-python-3.10-hdfs-2.9.2: !Task
    name: test-conda-python-3.10-hdfs-2.9.2
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        HDFS: 2.9.2
      image: conda-python-hdfs
    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.10-hdfs-2.9.2
    commit: e36e162c4ba27eff851b7d1fbb16325b08a05e81
  test-ubuntu-22.04-cpp-20: !Task
    name: test-ubuntu-22.04-cpp-20
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      flags: -e CMAKE_CXX_STANDARD=20
      image: ubuntu-cpp

    branch: nightly-tests-2024-02-12-0-github-test-ubuntu-22.04-cpp-20
    commit: 0599eda8bf919d4e66c8f47c1447b2be78e302c6
  test-r-gcc-12: !Task
    name: test-r-gcc-12
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 12
      image: ubuntu-r-only-r

    branch: nightly-tests-2024-02-12-0-github-test-r-gcc-12
    commit: 10b2af8e5df5ab356c93e03a63dc3759d4a6d226
  test-r-devdocs: !Task
    name: test-r-devdocs
    ci: github
    template: r/github.devdocs.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-12-0-github-test-r-devdocs
    commit: 8269b29bcb4c90aa10e35bfcb2276a7172006199
  test-conda-python-3.11-pandas-upstream_devel: !Task
    name: test-conda-python-3.11-pandas-upstream_devel
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.11'
        PANDAS: upstream_devel
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas

    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.11-pandas-upstream_devel
    commit: be678ac33cc3560f54874420ad089140f37f8283
  test-debian-11-python-3: !Task
    name: test-debian-11-python-3
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
      image: debian-python

    branch: nightly-tests-2024-02-12-0-azure-test-debian-11-python-3
    commit: 415a7f0a9a9540a20de16e6a4ba43898ddea6a33
  test-conda-python-3.10: !Task
    name: test-conda-python-3.10
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.10
    commit: 2c698f53e85faa9146d7147bcd2eff984cc5d95b
  test-r-rstudio-r-base-4.2-focal: !Task
    name: test-r-rstudio-r-base-4.2-focal
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-focal
    branch: nightly-tests-2024-02-12-0-azure-test-r-rstudio-r-base-4.2-focal
    commit: 6b83cf7ec46a875d9511a2237d7031adf221dea5
  test-conda-python-3.9: !Task
    name: test-conda-python-3.9
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.9
    commit: a1fe9d76e61d102cd3840165e0b932bae7120890
  test-debian-11-cpp-i386: !Task
    name: test-debian-11-cpp-i386
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: i386
        DEBIAN: '11'
      flags: -e ARROW_S3=OFF -e ARROW_GANDIVA=OFF
      image: debian-cpp

    branch: nightly-tests-2024-02-12-0-github-test-debian-11-cpp-i386
    commit: 6af2bb888732696ac2b496612d54198253470404
  test-ubuntu-20.04-cpp-minimal-with-formats: !Task
    name: test-ubuntu-20.04-cpp-minimal-with-formats
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e ARROW_CSV=ON -e ARROW_PARQUET=ON
      image: ubuntu-cpp-minimal

    branch: nightly-tests-2024-02-12-0-github-test-ubuntu-20.04-cpp-minimal-with-formats
    commit: 46b185b69bc612ef1a60c476276418d87354b402
  test-ubuntu-22.04-cpp-no-threading: !Task
    name: test-ubuntu-22.04-cpp-no-threading
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      flags: -e ARROW_ENABLE_THREADING=OFF
      image: ubuntu-cpp

    branch: nightly-tests-2024-02-12-0-github-test-ubuntu-22.04-cpp-no-threading
    commit: 0f8025350def45052c8dfdf391ef144e55e8337b
  test-r-dev-duckdb: !Task
    name: test-r-dev-duckdb
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        R_DUCKDB_DEV: true
      image: ubuntu-r-only-r

    branch: nightly-tests-2024-02-12-0-github-test-r-dev-duckdb
    commit: 44e6e17e02cf75cf50e514d4c61cb410f27a7d2b
  test-build-cpp-fuzz: !Task
    name: test-build-cpp-fuzz
    ci: github
    template: fuzz-tests/github.oss-fuzz.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-12-0-github-test-build-cpp-fuzz
    commit: 372b555338219f34e7bbf31bbd8988bc9ea7f950
  test-conda-python-3.10-substrait: !Task
    name: test-conda-python-3.10-substrait
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python-substrait

    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.10-substrait
    commit: eee723c99d445578033987888c923249c8f1dc09
  test-ubuntu-20.04-cpp: !Task
    name: test-ubuntu-20.04-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '20.04'
      image: ubuntu-cpp
    branch: nightly-tests-2024-02-12-0-github-test-ubuntu-20.04-cpp
    commit: b93b0843288a5dfa516f467415ced51e503473ff
  test-conda-python-3.11-spark-master: !Task
    name: test-conda-python-3.11-spark-master
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.11'
        SPARK: master
        TEST_PYARROW_ONLY: 'false'
        NUMPY: latest
        JDK: '17'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0

    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.11-spark-master
    commit: 9984b6fa33f368e1d689b3c5edc23c5ba00641c4
  example-cpp-minimal-build-static: !Task
    name: example-cpp-minimal-build-static
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static
    branch: nightly-tests-2024-02-12-0-github-example-cpp-minimal-build-static
    commit: acacc1f6f3d28cc359a1e5944f0c68b0749be2c6
  test-r-rhub-debian-gcc-release-custom-ccache: !Task
    name: test-r-rhub-debian-gcc-release-custom-ccache
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-release
      r_tag: latest
      r_custom_ccache: true

    branch: nightly-tests-2024-02-12-0-azure-test-r-rhub-debian-gcc-release-custom-ccache
    commit: a625a46acd38450abcf7f942586cf2c16cdeaead
  test-r-rstudio-r-base-4.1-opensuse153: !Task
    name: test-r-rstudio-r-base-4.1-opensuse153
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse153

  # This is with R built with --enable-lto
  # CRAN also does R CMD INSTALL --use-LTO
  # which overrides the UseLTO field in r/DESCRIPTION
    branch: nightly-tests-2024-02-12-0-azure-test-r-rstudio-r-base-4.1-opensuse153
    commit: c834d57eabfa14bb79203c31d5fecf1cb74305bc
  test-fedora-39-cpp: !Task
    name: test-fedora-39-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 39
      image: fedora-cpp

    branch: nightly-tests-2024-02-12-0-github-test-fedora-39-cpp
    commit: 1d3176d0173712d27b8e6ecd75a174c236b277e6
  test-r-install-local-minsizerel: !Task
    name: test-r-install-local-minsizerel
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params:
      env:
        CMAKE_BUILD_TYPE: MinSizeRel

    branch: nightly-tests-2024-02-12-0-github-test-r-install-local-minsizerel
    commit: fda5c7cc662a08d00fb0ad605f67d7e1aa8f2bae
  test-ubuntu-20.04-cpp-thread-sanitizer: !Task
    name: test-ubuntu-20.04-cpp-thread-sanitizer
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        # clang-tools and llvm version need to be synchronized so as
        # to have the right llvm-symbolizer version
        CLANG_TOOLS: 11
        LLVM: 11
        UBUNTU: 20.04
      image: ubuntu-cpp-thread-sanitizer

    branch: nightly-tests-2024-02-12-0-github-test-ubuntu-20.04-cpp-thread-sanitizer
    commit: 078b7d40e792a03846818fc9d44773c2a0167e2d
  test-r-linux-as-cran: !Task
    name: test-r-linux-as-cran
    ci: github
    template: r/github.linux.cran.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_image }}

    branch: nightly-tests-2024-02-12-0-github-test-r-linux-as-cran
    commit: a4af578e619e9f2b11c5bf3d2698464f78201f5e
  example-cpp-minimal-build-static-system-dependency: !Task
    name: example-cpp-minimal-build-static-system-dependency
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static-system-dependency

    branch: 
      nightly-tests-2024-02-12-0-github-example-cpp-minimal-build-static-system-dependency
    commit: 62e2b206392a9395ae95301d11c4c8e12b1721c3
  test-r-install-local: !Task
    name: test-r-install-local
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-02-12-0-github-test-r-install-local
    commit: 7c32640303a0a319ef1f706d217c2b0e2eab1715
  example-python-minimal-build-ubuntu-venv: !Task
    name: example-python-minimal-build-ubuntu-venv
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-ubuntu-venv

  ############################# Conda Linux (x64) #############################

    branch: nightly-tests-2024-02-12-0-github-example-python-minimal-build-ubuntu-venv
    commit: c53cea4dc54df43d1a01b2e49baf779c5be9d80e
  test-conda-python-3.11-dask-latest: !Task
    name: test-conda-python-3.11-dask-latest
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.11
        DASK: latest
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask
    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.11-dask-latest
    commit: 31bcaa0b64da5078a65855bf27317ba52d606334
  test-r-depsource-system: !Task
    name: test-r-depsource-system
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_DEPENDENCY_SOURCE=SYSTEM -e ARROW_GCS=OFF -e xsimd_SOURCE=BUNDLED
      image: ubuntu-r-only-r

    branch: nightly-tests-2024-02-12-0-github-test-r-depsource-system
    commit: d1df7623fea460ed2db3f49d0fa2b58bd53bc31f
  test-conda-python-3.10-cython2: !Task
    name: test-conda-python-3.10-cython2
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python-cython2

    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.10-cython2
    commit: 55a227535f020999706d6b437e6cc82bb3d5fdb4
  test-debian-c-glib: !Task
    name: test-debian-c-glib
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: debian-c-glib
    branch: nightly-tests-2024-02-12-0-github-test-debian-c-glib
    commit: d0ce17e7cf07b051631664b124c5d5ff87614585
  test-r-ubuntu-22.04: !Task
    name: test-r-ubuntu-22.04
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2024-02-12-0-github-test-r-ubuntu-22.04
    commit: 5bcdd0334a701741b969b5e8282483af63df4849
  test-conda-python-3.10-spark-v3.5.0: !Task
    name: test-conda-python-3.10-spark-v3.5.0
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        SPARK: v3.5.0
        TEST_PYARROW_ONLY: 'false'
        NUMPY: '1.23'
        JDK: '8'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.10-spark-v3.5.0
    commit: e56fe4af914e8a2b992e873de085b0dcd5eda31f
  test-conda-python-3.11-dask-upstream_devel: !Task
    name: test-conda-python-3.11-dask-upstream_devel
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.11
        DASK: upstream_devel
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask

    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.11-dask-upstream_devel
    commit: 6389a5dad48be8d5c8e74af70384b7677110ee29
  test-conda-python-3.11: !Task
    name: test-conda-python-3.11
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.11'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.11
    commit: bccec02a7019fa7ecb282c65c2cb7ee7f3259b4c
  test-ubuntu-20.04-cpp-bundled: !Task
    name: test-ubuntu-20.04-cpp-bundled
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-cpp-bundled

    branch: nightly-tests-2024-02-12-0-github-test-ubuntu-20.04-cpp-bundled
    commit: bc82cf54553734743e3bda4a7b0c7c0a439c27e7
  test-ubuntu-c-glib: !Task
    name: test-ubuntu-c-glib
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: ubuntu-c-glib
    branch: nightly-tests-2024-02-12-0-github-test-ubuntu-c-glib
    commit: efc18e47833d3b35b08e5f8ffd24ac9402b8ddf5
  test-ubuntu-20.04-python-3: !Task
    name: test-ubuntu-20.04-python-3
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-python

    branch: nightly-tests-2024-02-12-0-azure-test-ubuntu-20.04-python-3
    commit: c7bb73df0be0a040e1a8cc613882d95336389290
  test-fedora-r-clang-sanitizer: !Task
    name: test-fedora-r-clang-sanitizer
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: fedora-r-clang-sanitizer

    branch: nightly-tests-2024-02-12-0-azure-test-fedora-r-clang-sanitizer
    commit: ce2d555fbceb5678a26a7c86a8b89c7e7f9168ea
  test-conda-python-3.8: !Task
    name: test-conda-python-3.8
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.8
    commit: 3b27469d29d8e7e93cb6f40b92ea4645fdb176ca
  test-ubuntu-22.04-python-3: !Task
    name: test-ubuntu-22.04-python-3
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: ubuntu-python

    branch: nightly-tests-2024-02-12-0-github-test-ubuntu-22.04-python-3
    commit: cc7225bc95e8f2ff9afac2d2cf32bb34f736e40f
  test-conda-python-3.10-pandas-latest: !Task
    name: test-conda-python-3.10-pandas-latest
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.10-pandas-latest
    commit: 653a44070d14b0cf17b7f9c92c5912d0116b387e
  test-conda-cpp: !Task
    name: test-conda-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: conda-cpp
    branch: nightly-tests-2024-02-12-0-github-test-conda-cpp
    commit: 9fdd23e93b9ce87701e64d882a355b5e16857924
  test-debian-11-go-1.21: !Task
    name: test-debian-11-go-1.21
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
        GO: '1.21'
        STATICCHECK: latest
      image: debian-go

  # be sure to update binary-task.rb when upgrading ubuntu
    branch: nightly-tests-2024-02-12-0-azure-test-debian-11-go-1.21
    commit: 49c147fb3263b48c6ca74608aa55c637bf16fdf6
  test-conda-python-3.9-pandas-latest: !Task
    name: test-conda-python-3.9-pandas-latest
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2024-02-12-0-github-test-conda-python-3.9-pandas-latest
    commit: 68f23d24d1e623b1086a113b59ac5fddac5af4c1
  test-cuda-python: !Task
    name: test-cuda-python
    ci: github
    template: docker-tests/github.cuda.yml
    artifacts: []
    params:
      image: ubuntu-cuda-python

  ############################## Fuzz tests #################################

    branch: nightly-tests-2024-02-12-0-github-test-cuda-python
    commit: b1edbe712a0184db9925afb0855ccf3ed20ff047
params: {}
branch: nightly-tests-2024-02-12-0

!Job
target: !Target
  head: 1a622ec18c154157341ae2562dda3b0df26550f8
  email: unknown
  branch: main
  remote: https://github.com/apache/arrow
  github_repo: apache/arrow
  version: 15.0.0.dev419
  r_version: 14.0.2.100000419
  no_rc_version: 15.0.0.dev419
  no_rc_r_version: 14.0.2.100000419
  no_rc_semver_version: 15.0.0-dev419
  no_rc_snapshot_version: 15.0.0-SNAPSHOT
tasks:
  test-r-offline-maximal: !Task
    name: test-r-offline-maximal
    ci: github
    template: r/github.linux.offline.build.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-12-0-github-test-r-offline-maximal
    commit: 1ee717aa4c56f3737bd3c3faa080a28ee1979cc6
  test-cuda-cpp: !Task
    name: test-cuda-cpp
    ci: github
    template: docker-tests/github.cuda.yml
    artifacts: []
    params:
      image: ubuntu-cuda-cpp

    branch: nightly-tests-2024-01-12-0-github-test-cuda-cpp
    commit: ff2a703b33622ea4ede2c3af742637023b8f56a8
  example-python-minimal-build-fedora-conda: !Task
    name: example-python-minimal-build-fedora-conda
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-fedora-conda
    branch: nightly-tests-2024-01-12-0-github-example-python-minimal-build-fedora-conda
    commit: e5421d420eb754df1a438eae63987bce9cc30ce5
  test-debian-11-python-3: !Task
    name: test-debian-11-python-3
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
      image: debian-python

    branch: nightly-tests-2024-01-12-0-azure-test-debian-11-python-3
    commit: bfa118234bc01e46f3b8c58802ce7ad7ea536f9b
  test-ubuntu-22.04-python-3: !Task
    name: test-ubuntu-22.04-python-3
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: ubuntu-python

    branch: nightly-tests-2024-01-12-0-github-test-ubuntu-22.04-python-3
    commit: 2c9594232d9a204c0226d5c7a92e4b5afac7721c
  example-cpp-minimal-build-static: !Task
    name: example-cpp-minimal-build-static
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static
    branch: nightly-tests-2024-01-12-0-github-example-cpp-minimal-build-static
    commit: aed10ed3f5b8f8b0dc4e1f7d3cc3db84c7c825e6
  test-build-vcpkg-win: !Task
    name: test-build-vcpkg-win
    ci: github
    template: vcpkg-tests/github.windows.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-12-0-github-test-build-vcpkg-win
    commit: 65eccf706a946d418224227a478ce8bbc95ed656
  test-ubuntu-r-sanitizer: !Task
    name: test-ubuntu-r-sanitizer
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: ubuntu-r-sanitizer

    branch: nightly-tests-2024-01-12-0-azure-test-ubuntu-r-sanitizer
    commit: 15c14b45ae9081cc4bbab34bec31cc8197b19be6
  test-r-rhub-debian-gcc-release-custom-ccache: !Task
    name: test-r-rhub-debian-gcc-release-custom-ccache
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-release
      r_tag: latest
      r_custom_ccache: true

    branch: nightly-tests-2024-01-12-0-azure-test-r-rhub-debian-gcc-release-custom-ccache
    commit: cefda15d0adf1e11b6e3581c8f2894a1488a3a6f
  test-cuda-python: !Task
    name: test-cuda-python
    ci: github
    template: docker-tests/github.cuda.yml
    artifacts: []
    params:
      image: ubuntu-cuda-python

  ############################## Fuzz tests #################################

    branch: nightly-tests-2024-01-12-0-github-test-cuda-python
    commit: 2a5041d1cd31499c66da431d6837b7e7e9e3c203
  test-r-rhub-ubuntu-gcc-release-latest: !Task
    name: test-r-rhub-ubuntu-gcc-release-latest
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: ubuntu-gcc-release
      r_tag: latest
    branch: nightly-tests-2024-01-12-0-azure-test-r-rhub-ubuntu-gcc-release-latest
    commit: 0386992324802330f70bb2ebdc4b45091586fe41
  test-ubuntu-20.04-cpp-thread-sanitizer: !Task
    name: test-ubuntu-20.04-cpp-thread-sanitizer
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        # clang-tools and llvm version need to be synchronized so as
        # to have the right llvm-symbolizer version
        CLANG_TOOLS: 11
        LLVM: 11
        UBUNTU: 20.04
      image: ubuntu-cpp-thread-sanitizer

    branch: nightly-tests-2024-01-12-0-github-test-ubuntu-20.04-cpp-thread-sanitizer
    commit: 9033910fc6908941eb0d2b33f157946d596ce5c1
  test-alpine-linux-cpp: !Task
    name: test-alpine-linux-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: alpine-linux-cpp
    branch: nightly-tests-2024-01-12-0-github-test-alpine-linux-cpp
    commit: 391b50c84076cbe338f0fab3a2395239ee36168f
  test-r-rhub-debian-gcc-devel-lto-latest: !Task
    name: test-r-rhub-debian-gcc-devel-lto-latest
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rhub
      r_image: debian-gcc-devel-lto
      r_tag: latest
      flags: -e NOT_CRAN=false -e INSTALL_ARGS=--use-LTO

  # This one has -flto=auto
    branch: nightly-tests-2024-01-12-0-azure-test-r-rhub-debian-gcc-devel-lto-latest
    commit: a6826345e38ee962cf3216a45249a517cb898197
  test-ubuntu-22.04-cpp: !Task
    name: test-ubuntu-22.04-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '22.04'
      image: ubuntu-cpp

    branch: nightly-tests-2024-01-12-0-github-test-ubuntu-22.04-cpp
    commit: be897390247a6d11a28014ce1d3393d5893a5e83
  test-conda-python-3.10-substrait: !Task
    name: test-conda-python-3.10-substrait
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python-substrait

    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.10-substrait
    commit: 4596b77486e983f23e223412e47f8d5d776e3b6d
  test-r-arrow-backwards-compatibility: !Task
    name: test-r-arrow-backwards-compatibility
    ci: github
    template: r/github.linux.arrow.version.back.compat.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-12-0-github-test-r-arrow-backwards-compatibility
    commit: 0ca5f434e671cbcbc4dcb229b1e535ad51cd4b9c
  test-build-cpp-fuzz: !Task
    name: test-build-cpp-fuzz
    ci: github
    template: fuzz-tests/github.oss-fuzz.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-12-0-github-test-build-cpp-fuzz
    commit: 9f3cf947e55020186b9ea90cd6f0efbbe5d27127
  test-conda-python-3.9-pandas-latest: !Task
    name: test-conda-python-3.9-pandas-latest
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.9-pandas-latest
    commit: aa61dc3c95934efb894dce54b4530dd415bd8af2
  test-conda-python-3.10-cython2: !Task
    name: test-conda-python-3.10-cython2
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
      image: conda-python-cython2

    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.10-cython2
    commit: 57a4e13bc9e2617e146c79be6547a2396dfc05e9
  test-conda-python-3.10-spark-v3.5.0: !Task
    name: test-conda-python-3.10-spark-v3.5.0
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        SPARK: v3.5.0
        TEST_PYARROW_ONLY: 'false'
        NUMPY: '1.23'
        JDK: '8'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.10-spark-v3.5.0
    commit: 551d013654e64663f66dc4355b73bf88ea71b5f1
  test-debian-ruby: !Task
    name: test-debian-ruby
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: debian-ruby
    branch: nightly-tests-2024-01-12-0-github-test-debian-ruby
    commit: eae22d39d370bda34e6d5c9740fd9524abf499e7
  example-cpp-tutorial: !Task
    name: example-cpp-tutorial
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: tutorial_examples
      run: tutorial

############################## Utility tasks ############################
    branch: nightly-tests-2024-01-12-0-github-example-cpp-tutorial
    commit: a1a9bbafe565a44449cf8377a835b0335d94bdf8
  test-r-depsource-bundled: !Task
    name: test-r-depsource-bundled
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
      flags: -e ARROW_DEPENDENCY_SOURCE=BUNDLED

    branch: nightly-tests-2024-01-12-0-azure-test-r-depsource-bundled
    commit: b6012b52ec012b45f5db01c0c1dfa67119ea9416
  test-fedora-38-cpp: !Task
    name: test-fedora-38-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 38
      image: fedora-cpp

    branch: nightly-tests-2024-01-12-0-github-test-fedora-38-cpp
    commit: 5c8faf809d7e8506765a6b515760b265ccb547a3
  test-r-devdocs: !Task
    name: test-r-devdocs
    ci: github
    template: r/github.devdocs.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-12-0-github-test-r-devdocs
    commit: 14f245d86a78399cb5ff47cb8b2a3d848afa9c84
  test-conda-python-3.12: !Task
    name: test-conda-python-3.12
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.12'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python

    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.12
    commit: 6ab5415a0f823e7d2bf6f7a6873acaed4c4a4923
  test-r-install-local: !Task
    name: test-r-install-local
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-12-0-github-test-r-install-local
    commit: 8a3df79c07870d77f767af9068466e9bbf12df1f
  test-ubuntu-20.04-cpp-bundled: !Task
    name: test-ubuntu-20.04-cpp-bundled
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-cpp-bundled

    branch: nightly-tests-2024-01-12-0-github-test-ubuntu-20.04-cpp-bundled
    commit: 6e453fc631cb8185a4468130ec7902876881c8e9
  test-debian-11-cpp-i386: !Task
    name: test-debian-11-cpp-i386
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: i386
        DEBIAN: '11'
      flags: -e ARROW_S3=OFF -e ARROW_GANDIVA=OFF
      image: debian-cpp

    branch: nightly-tests-2024-01-12-0-github-test-debian-11-cpp-i386
    commit: 5ef111d970ddd6a144ff9f0ed9ff40d291d32144
  test-debian-11-go-1.19: !Task
    name: test-debian-11-go-1.19
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
        GO: '1.19'
        STATICCHECK: v0.4.5
      image: debian-go
    branch: nightly-tests-2024-01-12-0-azure-test-debian-11-go-1.19
    commit: ef9be3bb026e37a49f17e32242d0a1d8f27b370a
  test-r-rstudio-r-base-4.2-centos7-devtoolset-8: !Task
    name: test-r-rstudio-r-base-4.2-centos7-devtoolset-8
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-centos7
      devtoolset_version: 8

    branch: nightly-tests-2024-01-12-0-azure-test-r-rstudio-r-base-4.2-centos7-devtoolset-8
    commit: 6c26c3a352cd2aed8a8078497baf4150f2b99972
  test-conda-python-3.8: !Task
    name: test-conda-python-3.8
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.8
    commit: 84e07ca877e9a4a049b08ebdddd14c2214b1fc8a
  test-fedora-r-clang-sanitizer: !Task
    name: test-fedora-r-clang-sanitizer
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        R_PRUNE_DEPS: true
      image: fedora-r-clang-sanitizer

    branch: nightly-tests-2024-01-12-0-azure-test-fedora-r-clang-sanitizer
    commit: b354b1f50499c665e58127203a58275f44d900dd
  test-conda-cpp: !Task
    name: test-conda-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: conda-cpp
    branch: nightly-tests-2024-01-12-0-github-test-conda-cpp
    commit: 04de680b1d0e4d871c44cf5e41d2d22918114ca1
  test-ubuntu-20.04-python-3: !Task
    name: test-ubuntu-20.04-python-3
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      image: ubuntu-python

    branch: nightly-tests-2024-01-12-0-azure-test-ubuntu-20.04-python-3
    commit: f601b66ff04347bbf3b4204a5cba16a018cb7c5c
  test-r-gcc-12: !Task
    name: test-r-gcc-12
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 12
      image: ubuntu-r-only-r

    branch: nightly-tests-2024-01-12-0-github-test-r-gcc-12
    commit: 7cd2f7a3dae981a3a39d0d6e676d4fbd258d3998
  test-fedora-38-python-3: !Task
    name: test-fedora-38-python-3
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        FEDORA: 38
      image: fedora-python

    branch: nightly-tests-2024-01-12-0-azure-test-fedora-38-python-3
    commit: cc19f4326a875557d27fc37c092ada385cf3624a
  test-ubuntu-20.04-cpp-minimal-with-formats: !Task
    name: test-ubuntu-20.04-cpp-minimal-with-formats
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e ARROW_CSV=ON -e ARROW_PARQUET=ON
      image: ubuntu-cpp-minimal

    branch: nightly-tests-2024-01-12-0-github-test-ubuntu-20.04-cpp-minimal-with-formats
    commit: 6c83a2297ead5e4ab3ea29acf081568d25f4277b
  test-conda-python-3.11-dask-latest: !Task
    name: test-conda-python-3.11-dask-latest
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.11
        DASK: latest
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask
    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.11-dask-latest
    commit: e1f7bd1186d54c57b14b3b7b62064e4f2c13d127
  test-conda-python-3.8-pandas-1.0: !Task
    name: test-conda-python-3.8-pandas-1.0
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        PANDAS: '1.0'
        NUMPY: '1.19'
      image: conda-python-pandas
    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.8-pandas-1.0
    commit: 3607ac640fb49f1e11899f9a194d60a4d9ebeb47
  test-conda-python-3.10-hdfs-2.9.2: !Task
    name: test-conda-python-3.10-hdfs-2.9.2
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        HDFS: 2.9.2
      image: conda-python-hdfs
    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.10-hdfs-2.9.2
    commit: f7eb4c0c90a0ff55194d12a49a2413e55383ee41
  test-conda-python-3.11: !Task
    name: test-conda-python-3.11
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.11'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.11
    commit: a4434b87568278c51a3d4bbb6a7f0e71216a9822
  test-ubuntu-22.04-cpp-no-threading: !Task
    name: test-ubuntu-22.04-cpp-no-threading
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      flags: -e ARROW_ENABLE_THREADING=OFF
      image: ubuntu-cpp

    branch: nightly-tests-2024-01-12-0-github-test-ubuntu-22.04-cpp-no-threading
    commit: 150429cbb249d68707ea74de4039ed1b422f20b7
  test-debian-c-glib: !Task
    name: test-debian-c-glib
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: debian-c-glib
    branch: nightly-tests-2024-01-12-0-github-test-debian-c-glib
    commit: 7dd2f59d5762b001a6c809b050e6ba985f59272a
  test-r-install-local-minsizerel: !Task
    name: test-r-install-local-minsizerel
    ci: github
    template: r/github.macos-linux.local.yml
    artifacts: []
    params:
      env:
        CMAKE_BUILD_TYPE: MinSizeRel

    branch: nightly-tests-2024-01-12-0-github-test-r-install-local-minsizerel
    commit: ee970085c43ca19f647107bed105734d1ad7fbc7
  test-conda-python-3.11-spark-master: !Task
    name: test-conda-python-3.11-spark-master
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.11'
        SPARK: master
        TEST_PYARROW_ONLY: 'false'
        NUMPY: latest
        JDK: '17'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0

    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.11-spark-master
    commit: 0d6e462226c16c1f21e550daf360568b0f5705e5
  test-r-ubuntu-22.04: !Task
    name: test-r-ubuntu-22.04
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        R_PRUNE_DEPS: true
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2024-01-12-0-github-test-r-ubuntu-22.04
    commit: 6e5d3adeeec19858025e4640a200ea556cc9aa72
  test-conda-python-3.8-spark-v3.5.0: !Task
    name: test-conda-python-3.8-spark-v3.5.0
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.8'
        SPARK: v3.5.0
        TEST_PYARROW_ONLY: 'false'
        NUMPY: latest
        JDK: '8'
      # use the branch-3.0 of spark, so prevent reusing any layers
      flags: --no-leaf-cache
      image: conda-python-spark
      fetch_depth: 0
    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.8-spark-v3.5.0
    commit: 97f217dd77dd824bc0481afe1dde5ec15c6e7014
  test-conda-python-3.10: !Task
    name: test-conda-python-3.10
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.10
    commit: c937acfd8ca97c3aed91d8365a0923a8ab1620e7
  test-conda-python-3.9: !Task
    name: test-conda-python-3.9
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.9'
        # Temporarily disable error on Warning: https://github.com/apache/arrow/issues/38239
        # PYTEST_ARGS: "-W error -W 'ignore:Setting custom ClientSession:DeprecationWarning'"
      image: conda-python
    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.9
    commit: aa466bf4f92d13ca0f0bf2e07130d1afc7e10858
  example-cpp-minimal-build-static-system-dependency: !Task
    name: example-cpp-minimal-build-static-system-dependency
    ci: github
    template: cpp-examples/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      run: static-system-dependency

    branch: 
      nightly-tests-2024-01-12-0-github-example-cpp-minimal-build-static-system-dependency
    commit: d1addaa68762131d0e2fecfa3391948afb9298b1
  test-ubuntu-c-glib: !Task
    name: test-ubuntu-c-glib
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: ubuntu-c-glib
    branch: nightly-tests-2024-01-12-0-github-test-ubuntu-c-glib
    commit: b09de17ca5680aea8989b28c1cf587727d5f634a
  test-r-offline-minimal: !Task
    name: test-r-offline-minimal
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
      flags: -e TEST_OFFLINE_BUILD=true

    branch: nightly-tests-2024-01-12-0-azure-test-r-offline-minimal
    commit: 478b6daab8f91e9159a77af32e616eb41ed33bb2
  test-conda-cpp-valgrind: !Task
    name: test-conda-cpp-valgrind
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      image: conda-cpp-valgrind

    branch: nightly-tests-2024-01-12-0-azure-test-conda-cpp-valgrind
    commit: cdabe636f9a2abd35ede58153bb50ced82c1e874
  test-conda-python-3.11-dask-upstream_devel: !Task
    name: test-conda-python-3.11-dask-upstream_devel
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.11
        DASK: upstream_devel
      # use the latest dask release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-dask

    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.11-dask-upstream_devel
    commit: 916655e9c6c99782df892707728858c7fc0bcc35
  test-debian-11-go-1.21: !Task
    name: test-debian-11-go-1.21
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        DEBIAN: 11
        GO: '1.21'
        STATICCHECK: latest
      image: debian-go

  # be sure to update binary-task.rb when upgrading ubuntu
    branch: nightly-tests-2024-01-12-0-azure-test-debian-11-go-1.21
    commit: c67f8b4f6912bbea11031ae07bb31dec47c394a0
  test-r-linux-valgrind: !Task
    name: test-r-linux-valgrind
    ci: azure
    template: docker-tests/azure.linux.yml
    artifacts: []
    params:
      env:
        ARROW_R_DEV: 'TRUE'
      image: ubuntu-r-valgrind

    branch: nightly-tests-2024-01-12-0-azure-test-r-linux-valgrind
    commit: 8f80615ac401e63251ce971a6f56290b915f2273
  test-r-library-r-base-latest: !Task
    name: test-r-library-r-base-latest
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
    branch: nightly-tests-2024-01-12-0-azure-test-r-library-r-base-latest
    commit: 05b1691f647c0f5e2eaef7e19d1954a7d7a8cf66
  test-r-depsource-system: !Task
    name: test-r-depsource-system
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      flags: -e ARROW_DEPENDENCY_SOURCE=SYSTEM -e ARROW_GCS=OFF -e xsimd_SOURCE=BUNDLED
      image: ubuntu-r-only-r

    branch: nightly-tests-2024-01-12-0-github-test-r-depsource-system
    commit: af4e256154fe9463115fb122eae23a8b98304009
  test-r-rstudio-r-base-4.2-focal: !Task
    name: test-r-rstudio-r-base-4.2-focal
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.2-focal
    branch: nightly-tests-2024-01-12-0-azure-test-r-rstudio-r-base-4.2-focal
    commit: a9b1529fe03015571e175f57ef64c95767afa120
  test-r-gcc-11: !Task
    name: test-r-gcc-11
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
        GCC_VERSION: 11
      image: ubuntu-r-only-r

  # This also has -flto=auto
    branch: nightly-tests-2024-01-12-0-github-test-r-gcc-11
    commit: 8d678847c02bdc716c406e98cc0ad955fcab84fe
  test-skyhook-integration: !Task
    name: test-skyhook-integration
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 20.04
      flags: -e ARROW_SKYHOOK=ON
      image: ubuntu-cpp

    branch: nightly-tests-2024-01-12-0-github-test-skyhook-integration
    commit: 79cd787858ec9313add520bd6a95932a481a6c6c
  test-conda-python-3.11-hypothesis: !Task
    name: test-conda-python-3.11-hypothesis
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: 3.11
        HYPOTHESIS_PROFILE: ci
        PYARROW_TEST_HYPOTHESIS: ON
        # limit to execute hypothesis tests only
        PYTEST_ARGS: -m hypothesis -W error
      image: conda-python-pandas

    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.11-hypothesis
    commit: 426a93bf9fd1acf14aa339dd6886e54099ebb1d1
  test-ubuntu-22.04-docs: !Task
    name: test-ubuntu-22.04-docs
    ci: github
    template: docs/github.linux.yml
    artifacts:
    - docs.tar.gz
    params:
      env:
        UBUNTU: 22.04
      pr_number: Unset
      flags: -v $PWD/build/:/build/
      image: ubuntu-docs
      publish: false
    branch: nightly-tests-2024-01-12-0-github-test-ubuntu-22.04-docs
    commit: 9e07b80dc94bbdb4eaa2167237e678d3106e80b8
  example-python-minimal-build-ubuntu-venv: !Task
    name: example-python-minimal-build-ubuntu-venv
    ci: github
    template: python-minimal-build/github.linux.yml
    artifacts: []
    params:
      type: minimal_build
      image: minimal-ubuntu-venv

  ############################# Conda Linux (x64) #############################

    branch: nightly-tests-2024-01-12-0-github-example-python-minimal-build-ubuntu-venv
    commit: 85e9f9ad2800f1ceaaa6e78e52fc696b66065edd
  test-conda-python-3.10-hdfs-3.2.1: !Task
    name: test-conda-python-3.10-hdfs-3.2.1
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        HDFS: 3.2.1
      image: conda-python-hdfs

    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.10-hdfs-3.2.1
    commit: 5385bf69677477212ba6150bb2569fcabbfbbf5e
  test-conda-python-3.11-pandas-upstream_devel: !Task
    name: test-conda-python-3.11-pandas-upstream_devel
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.11'
        PANDAS: upstream_devel
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas

    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.11-pandas-upstream_devel
    commit: 098aee0989846fb1b942946ca11d2a58e1143a40
  test-ubuntu-20.04-cpp: !Task
    name: test-ubuntu-20.04-cpp
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: '20.04'
      image: ubuntu-cpp
    branch: nightly-tests-2024-01-12-0-github-test-ubuntu-20.04-cpp
    commit: 3b30a504a9ad0539128fe23fc6c8622b6a97c621
  test-r-dev-duckdb: !Task
    name: test-r-dev-duckdb
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        R_DUCKDB_DEV: true
      image: ubuntu-r-only-r

    branch: nightly-tests-2024-01-12-0-github-test-r-dev-duckdb
    commit: 87d9ca928d6e6787b422826fd9691be9426fba6a
  test-r-linux-as-cran: !Task
    name: test-r-linux-as-cran
    ci: github
    template: r/github.linux.cran.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_image }}

    branch: nightly-tests-2024-01-12-0-github-test-r-linux-as-cran
    commit: 2aefabf9f41622c3e8ecd5a852e4bc7b1ff3fe21
  test-r-versions: !Task
    name: test-r-versions
    ci: github
    template: r/github.linux.versions.yml
    artifacts: []
    params:
      MATRIX: ${{ matrix.r_version }}

    branch: nightly-tests-2024-01-12-0-github-test-r-versions
    commit: d210f154e18ef8b5cf6e58bd403fbe7bb61701a4
  test-r-linux-rchk: !Task
    name: test-r-linux-rchk
    ci: github
    template: r/github.linux.rchk.yml
    artifacts: []
    params: {}
    branch: nightly-tests-2024-01-12-0-github-test-r-linux-rchk
    commit: d70f551f8e0cc4e3667e61860a1a857b8c3406d0
  test-r-rstudio-r-base-4.1-opensuse153: !Task
    name: test-r-rstudio-r-base-4.1-opensuse153
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: rstudio
      r_image: r-base
      r_tag: 4.1-opensuse153

  # This is with R built with --enable-lto
  # CRAN also does R CMD INSTALL --use-LTO
  # which overrides the UseLTO field in r/DESCRIPTION
    branch: nightly-tests-2024-01-12-0-azure-test-r-rstudio-r-base-4.1-opensuse153
    commit: ea2b68903722b7eed898c43af4a6b2f1df4631db
  test-debian-11-cpp-amd64: !Task
    name: test-debian-11-cpp-amd64
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        ARCH: amd64
        DEBIAN: '11'
      image: debian-cpp

    branch: nightly-tests-2024-01-12-0-github-test-debian-11-cpp-amd64
    commit: 6cd089fb26583a14f71b7c0b27cf67d74156e13a
  test-conda-python-3.10-pandas-nightly: !Task
    name: test-conda-python-3.10-pandas-nightly
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        PANDAS: nightly
        NUMPY: nightly
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.10-pandas-nightly
    commit: cc59edf535c7812351f12b7ccf7b0cc8210e9ad6
  test-conda-python-3.10-pandas-latest: !Task
    name: test-conda-python-3.10-pandas-latest
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        PYTHON: '3.10'
        PANDAS: latest
        NUMPY: latest
        # ensure we have at least one build with parquet encryption disabled
        PARQUET_REQUIRE_ENCRYPTION: OFF
      # use the latest pandas release, so prevent reusing any cached layers
      flags: --no-leaf-cache
      image: conda-python-pandas
    branch: nightly-tests-2024-01-12-0-github-test-conda-python-3.10-pandas-latest
    commit: 3f8ca81bc33de8d38df95e88a7e7b6b2001ebec8
  test-r-minimal-build: !Task
    name: test-r-minimal-build
    ci: azure
    template: r/azure.linux.yml
    artifacts: []
    params:
      r_org: library
      r_image: r-base
      r_tag: latest
      flags: -e LIBARROW_MINIMAL=TRUE

    branch: nightly-tests-2024-01-12-0-azure-test-r-minimal-build
    commit: 1b6458c6fa0b401b9ee84334997e65699a23f6bf
  test-ubuntu-ruby: !Task
    name: test-ubuntu-ruby
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      image: ubuntu-ruby

  # Use azure to run valgrind tests to prevent OOM
    branch: nightly-tests-2024-01-12-0-github-test-ubuntu-ruby
    commit: a58a01629086ebc81ca2094e914520b2c4203bc3
  test-ubuntu-22.04-cpp-20: !Task
    name: test-ubuntu-22.04-cpp-20
    ci: github
    template: docker-tests/github.linux.yml
    artifacts: []
    params:
      env:
        UBUNTU: 22.04
      flags: -e CMAKE_CXX_STANDARD=20
      image: ubuntu-cpp

    branch: nightly-tests-2024-01-12-0-github-test-ubuntu-22.04-cpp-20
    commit: 3df6d63b3ad6a4a3bf830df5e05de502d37df31b
params: {}
branch: nightly-tests-2024-01-12-0
